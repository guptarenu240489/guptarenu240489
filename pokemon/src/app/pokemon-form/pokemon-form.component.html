<form [formGroup]="pokemonForm" class="container" (ngSubmit)="submitForm()">
  <div class="row">
    <div class="col-xs-12">
        <section class="container" formArrayName="pokemonDetails"
          *ngFor="let details of pokemonControls; let i = index;">
          <div [formGroupName]="i">
            <div class="row">
              <div class="col-xs-4">
                  <div class="form-group">
                      <label>Name</label>
                      <input type="text" class="form-control" formControlName="name" placeholder="Name"/>
                        <div *ngIf="details.get('name').errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                          Name is required.
                        </div>
                        <div *ngIf="details.get('name').errors?.minlength && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                          Name can't be less than 3 characters.
                        </div>
                        <div *ngIf="details.get('name').errors?.pattern && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                          Name can contain numbers and alphabets only.
                        </div>
                    </div>
              </div>
              <div class="col-xs-4">
                  <div class="form-group">
                      <label>Description</label>
                      <input type="text" class="form-control" formControlName="description" placeholder="Description"/>
                      <div *ngIf="details.get('description').errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                        Description is required.
                      </div>
                      <div *ngIf="details.get('description').errors?.minlength && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                        It can't be less than 3 characters.
                      </div>
                      <div *ngIf="details.get('description').errors?.pattern && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                        It can contain numbers and alphabets only.
                      </div>
                    </div>
              </div>
              <div class="col-xs-4">
                <div class="form-group">
                    <label>Price</label>
                    <input type="number" class="form-control" formControlName="price" placeholder="Price"/>
                    <div *ngIf="details.get('price').errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                      Price is required.
                    </div>
                    <div *ngIf="details.get('price').errors?.pattern && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                      It can contain numbers with 2 decimal places only.
                    </div>
                  </div>
              </div>
            </div>

            <div class="row">
              <div class="col-xs-4">
                <div class="form-group">
                    <label>Category</label>
                    <select class="form-control" formControlName="category" placeholder="Category">
                      <option value="electronic">Electronic</option>
                      <option value="cloth">Cloth</option>
                      <option value="blanket">Blanket</option>
                    </select>
                    <div *ngIf="details.get('category').errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                      Category is required.
                    </div>
                </div>
              </div>
              <div class="col-xs-4">
                <div class="form-group">
                  <label>Image URL</label>
                  <input type="text" class="form-control" formControlName="imageUrl" placeholder="Image URL"/>
                  <div *ngIf="details.get('imageUrl').errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                    Image is required.
                  </div>
                  <div *ngIf="details.get('imageUrl').errors?.pattern && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                    Image Url should be valid.
                  </div>
                </div>
              </div>
              <div class="col-xs-2">
                <div class="form-group">
                    <label>Phone</label>
                    <input type="tel" class="form-control" formControlName="phoneNumber" placeholder="Phone"/>
                    <div *ngIf="details.get('phoneNumber').errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                      Phone number is required.
                    </div>
                    <div *ngIf="details.get('phoneNumber').errors?.pattern && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                      Only numbers are allowed.
                    </div>
                    <div *ngIf="details.get('phoneNumber').errors?.maxlength && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                      It can't exceed 10 digits.
                    </div>
                </div>
              </div>
              <div class="col-xs-2">
                <div class="form-group">
                  <label>Select</label>
                  <select class="form-control" formControlName="select" placeholder="Select">
                    <option value="mobile">Mobile</option>
                    <option value="landline">Landline</option>
                  </select>
                  <div *ngIf="details.get('select').errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted"  class="text-danger">
                    This is required.
                  </div>
                </div>
              </div>
            </div>
          </div>
        <hr>
        </section>
        <button type="button" class="btn btn-primary" (click)="addPokemon()" [disabled]="count<4 ? false: true">Add Address</button>

      <div class="text-right">
        <button type="button" class="btn btn-primary" (click)="resetForm()">Reset</button>
            <input type="submit" class="btn btn-success" value="Submit" [disabled]="!pokemonForm.valid"/>
        </div>
    </div>
  </div>
</form>
<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="medium" color="#fff" type="ball-spin-clockwise">
  <p style="color: white">Saving Pokemon Details. </p>
</ngx-spinner>
